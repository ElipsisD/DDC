# DDC

Django-приложение со следующим функционалом:

1. CRUD (подсказка: DRF) _Новостей_ с данными:

- Заголовок новости
- Главное изображение
- Превью-изображение (versatileimagefield)
- Текст новости
- Дата публикации
- Автор новости

2. Просмотр и редактирование _Новостей_ с rich-текстом (summernote) в админке.
3. Выполнение периодической задачи (celery) на отправку email о _Новостях_, опубликованных сегодня, с настройками
   (constance):

- Список адресатов
- Тема сообщения
- Текст сообщения
- Время отправки

4. Импорт _Примечательных мест_ из xlsx-файла с данными:

- Название места
- Гео-координаты места (точка)
- Рейтинг (от 0 до 25)

5. Просмотр и редактирование _Примечательных мест_ в админке, координаты получать с помощью виджета карты.
6. Выполнение периодической задачи (celery) на получение _Сводки погоды_ в _Примечательном месте_: Периодичность
   выполнения задачи редактируется из админки, по умолчанию - раз в час

- Данные Сводки погоды:
- Температура по шкале Цельсия
- Влажность воздуха, в %
- Атмосферное давление, в мм ртутного столба
- Направление ветра
- Скорость ветра, в м/с

7. Просмотр _Сводки погоды_ в админке с фильтром по _Примечательному месту_ и дате снятия показаний.
8. Экспорт _Сводки погоды_ в xlsx-файл (import / export) с фильтром по _Примечательному месту_ и дате снятия показаний

### Usage:

Использование с Docker:

- cклонируйте репозиторий
- перейдите в директорию, где расположен Dockerfile
- создайте .env файл
- введите команду `docker-compose up`

Для корректной работы почтового сервиса Gmail необходимо:

- в настройках включить доступ к протоколу IMAP
- включить двухфакторную аутентификацию
- получить пароль приложения

Для деплоя на сервер:
- настроить nginx и gunicorn
- установить redis, postgresql
- создать демонов для celery, beat, flower(опционально)
- добавить в настройки считывание .env файла

### Структура .env файла:

`POSTGRES_DB`

`POSTGRES_USER`

`POSTGRES_PASSWORD`

`POSTGRES_HOST`

`SECRET_KEY` (Django)

`EMAIL_ADDRESS` (Gmail)

`EMAIL_PASS` (Gmail)

`WEATHER_API` (https://openweathermap.org/)